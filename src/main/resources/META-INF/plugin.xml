<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.dilika.tailwindsmartplugin</id>
    <name>Tailwind CSS Support</name>
    <vendor>dilika</vendor>
    
    <!-- Resource bundle for parser scripts -->
    <resource-bundle>parser.tailwind-parser</resource-bundle>

    <description><![CDATA[
    <h1>Tailwind CSS Support</h1>
    <p>This plugin adds Tailwind CSS support to IntelliJ IDE.</p>

    <h2>Features</h2>
    <ul>
        <li>Tailwind CSS class auto-completion</li>
        <li>Documentation on hover for classes</li>
        <li>Automatic detection of project's Tailwind configuration</li>
        <li>Support for custom classes</li>
    </ul>

    <h2>Supported Languages</h2>
    <ul>
        <li>HTML</li>
        <li>XML</li>
        <li>JSX/TSX (React)</li>
        <li>Vue</li>
        <li>PHP</li>
    </ul>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Services -->
        <projectService serviceImplementation="com.github.dilika.tailwindsmartplugin.services.TailwindConfigService"/>
        
        <!-- Plugin startup activity -->
        <postStartupActivity implementation="com.github.dilika.tailwindsmartplugin.startup.TailwindStartupActivity"/>
        
        <!-- Auto-completion for Tailwind CSS classes -->
        <completion.contributor
                language="HTML"
                implementationClass="com.github.dilika.tailwindsmartplugin.completion.TailwindCompletionContributor"/>
    
        <completion.contributor
                language="XML"
                implementationClass="com.github.dilika.tailwindsmartplugin.completion.TailwindCompletionContributor"/>
    
        <!-- Add generic 'any' language support for broader coverage -->
        <completion.contributor
                language="any"
                implementationClass="com.github.dilika.tailwindsmartplugin.completion.TailwindCompletionContributor"/>
    
        <!-- Rich documentation for Tailwind CSS classes -->
        <lang.documentationProvider
                language="HTML"
                implementationClass="com.github.dilika.tailwindsmartplugin.documentation.TailwindDocumentationProvider"/>
    
        <lang.documentationProvider
                language="XML"
                implementationClass="com.github.dilika.tailwindsmartplugin.documentation.TailwindDocumentationProvider"/>
    
        <!-- Hover provider for backward compatibility -->
        <lang.documentationProvider
                language="HTML"
                implementationClass="com.github.dilika.tailwindsmartplugin.hover.TailwindHoverProvider"/>
    
        <lang.documentationProvider
                language="XML"
                implementationClass="com.github.dilika.tailwindsmartplugin.hover.TailwindHoverProvider"/>
    
        <!-- Tool window for Tailwind CSS -->
        <toolWindow id="TailwindCSS"
                    anchor="right"
                    factoryClass="com.github.dilika.tailwindsmartplugin.toolWindow.TailwindToolWindowFactory"/>
    </extensions>
<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.dilika.tailwindsmartplugin</id>
    <name>Tailwind Smart Completion</name>
    <vendor>dilika</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Code completion for Tailwind CSS classes -->
        <completion.contributor
                language="any"
                implementationClass="com.github.dilika.tailwindsmartplugin.completion.TailwindCompletionContributor"/>

        <!-- Application service for global Tailwind config access -->
        <applicationService
                serviceImplementation="com.github.dilika.tailwindsmartplugin.services.TailwindConfigService"/>
    </extensions>

    <actions>
        <!-- Add your actions here -->
    </actions>
</idea-plugin>
    <!-- Project listener to detect Tailwind configuration changes -->
    <projectListeners>
        <listener class="com.github.dilika.tailwindsmartplugin.listeners.TailwindProjectListener"
                  topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </projectListeners>

</idea-plugin>
